<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <!-- 연습1. global navigation bar 만들기 -->
    <div id="box1"></div>
    <style>
        #box1 * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }
        #box1 a {
            text-decoration: none;
            color: black;
        }
        #box1 ul {
            list-style: none;
        }
        #box1 .gnb {
            display: flex;
            width: 1000px;
            height: 100px;
            margin: 0 auto;
            border-bottom: 1px solid gray;
        }
        #box1 .gnb li {
            padding: 0 20px;
        }
        #box1 .gnb li a {
            display: block;
            height: 100%;
            text-align: center;
            line-height: 100px;
        }
        #box1 .gnb li a:hover {
            border-bottom: 5px solid blue;
        }
    </style>
    <script>
        /*
            문제) 아래 태그를 만들어서 box1에 넣으시오.
            <ul class="gnb">
                <li><a href="#">Models</a></li>
                <li><a href="#">Find & Buy</a></li>
                <li><a href="#">Electromobility</a></li>
                <li><a href="#">Services</a></li>
                <li><a href="#">Discover</a></li>
            </ul>
        */
        var menu = ['Models', 'Find & Buy', 'Electromobility', 'Services', 'Discover'];
        var result = '<ul class="gnb">';
        for (let i = 0; i < menu.length; i++) {
            result += '<li><a href="#">' + menu[i] + '</a></li>';
        }
        result += '</ul>';
        var box1 = document.getElementById('box1');
        box1.innerHTML = result;
    </script>

    <hr>

    <!-- 연습2. 0.5초마다 무지개색으로 변환되는 100x100 크기 box -->
    <div id="box2"></div>
    <script>
        // 문제) 배열의 각 요소를 box2의 background-color로 지정하기
        var colors = ['red', 'orange', 'yellow', 'green', 'blue', 'navy', 'purple'];
        var box2 = document.getElementById('box2');
        box2.style.width = '100px';
        box2.style.height = '100px';
        box2.style.margin = '0 auto';
        var i = 0;
        setInterval(function(){
            box2.style.backgroundColor = colors[i++];
            i %= colors.length;  //  인덱스를 0~6으로 순환하기 위한 연산
        }, 500);
    </script>

    <hr>

    <!-- 연습3. 테이블에 데이터 넣기 -->
    <div id="box3">
        <table border="1">
            <thead>
                <tr>
                    <td>lastBuildDate</td>
                    <td colspan="2" id="lastBuildDate"></td>
                </tr>
                <tr>
                    <td>total</td>
                    <td colspan="2" id="total"></td>
                </tr>
                <tr>
                    <td>제목(title)</td>
                    <td>링크(link)</td>
                    <td>개요(description)</td>
                </tr>
            </thead>
            <tbody id="items">

            </tbody>
        </table>
    </div>
    <script>
        // 문제) result 객체의 각 속성(lastBuildDate, total, items)을 테이블에 표시하기
        var result = {
            'lastBuildDate': '2022-01-01',
            'total': 3,
            'items': [
                {
                    'title': '명량',
                    'link': 'https://www.명량.com',
                    'description': '내 죽음을 적에게 알리지 마라.'
                },
                {
                    'title': '극한직업',
                    'link': 'https://www.극한직업.com',
                    'description': '범인을 잡을 것인가, 닭을 잡을 것인가!'
                },
                {
                    'title': '신과함께(죄와벌)',
                    'link': 'https://www.신과함께.com',
                    'description': '오늘 예정대로 무사히 사망하셨습니다.'
                }
            ]
        };
        var lastBuildDate = document.getElementById('lastBuildDate');
        var total = document.getElementById('total');
        lastBuildDate.textContent = result.lastBuildDate;
        total.textContent = result.total;
        var strItems = '';
        var items = result.items;
        for (let i = 0; i < items.length; i++) {
            strItems += '<tr>';
            strItems += '<td>' + items[i].title + '</td>';
            strItems += '<td>' + items[i].link + '</td>';
            strItems += '<td>' + items[i].description + '</td>';
            strItems += '</tr>';
        }
        /*
        다른 풀이
        for (let i = 0; i < items.length; i++) {
            strItems += '<tr>';
            for (let p in items[i]) {  // p : 'title', 'link', 'description' 를 순서대로 조회함
                strItems += '<td>' + items[i][p] + '</td>';
            }
            strItems += '</tr>';
        }
        */
        var items = document.getElementById('items');
        items.innerHTML = strItems;
    </script>

    <hr>

    <!-- 연습4. 목록 태그 만들기 -->
    <div id="box4"></div>
    <style>
        #box4 .product_list {
            padding: 0;
            margin: 0;
            list-style-type: none;
            display: flex;
            justify-content: center;
        }
        #box4 .product_list > li {
            width: 200px;
            height: 200px;
            margin: 10px;
            background-color: rgb(201, 87, 110);
            color: white;
            text-align: center;
            padding-top: 20px;
        }
    </style>
    <script>
        /*
            문제) 아래 태그를 만들어서 box4에 넣기
            <ul class="product_list">
                <li>Product1<br>15,000<br>★★★★<br></li>
                <li>Product2<br>25,000<br>★★★★★<br></li>
                <li>Product3<br>35,000<br>★★★<br></li>
            </ul>
        */
        var products = [
            {
                'name': 'Product1',
                'price': '15,000',
                'star': '★★★★'
            },
            {
                'name': 'Product2',
                'price': '25,000',
                'star': '★★★★★'
            },
            {
                'name': 'Product3',
                'price': '35,000',
                'star': '★★★'
            }
        ];
        var productList = '<ul class="product_list">';
        for (let i = 0; i < products.length; i++) {
            productList += '<li>';
            productList += products[i].name + '<br>';
            productList += products[i].price + '<br>';
            productList += products[i].star + '<br>';
            productList += '</li>';
        }
        /* 다른 풀이
        for (let i = 0; i < products.length; i++) {
            productList += '<li>';
            for (let p in products[i]) {
                productList += products[i][p] + '<br>';
            }
            productList += '</li>';
        }
        */
        productList += '</ul>';
        var box4 = document.getElementById('box4');
        box4.innerHTML = productList;
    </script>

    <hr>

    <!-- 연습5. Student 객체를 생성자 함수로 만들어 테이블에 넣기 -->
    <!--
        Student 속성
        1) 값   : name, kor, eng, mat
        2) 함수
            (1) 평균 반환하는 getAverage
            (2) 학점 반환하는 getGrade 
    -->
    <div id="box5">
        <table border="1">
            <thead>
                <tr>
                    <td>이름</td>
                    <td>국어</td>
                    <td>영어</td>
                    <td>수학</td>
                    <td>평균</td>
                    <td>학점</td>
                </tr>
            </thead>
            <tbody id="student_info">

            </tbody>
        </table>
    </div>
    <script>
        // 문제) 임의의 Student 객체를 3개 생성해서 student_info에 표시할 것
        function Student(name, kor, eng, mat) {
            this.name = name;
            this.kor = kor;
            this.eng = eng;
            this.mat = mat;
            // 함수는 prototype에 두는 것이 좋음
            this.__proto__.getAverage = function(){
                return (this.kor + this.eng + this.mat) / 3;
            };
            this.__proto__.getGrade = function(){
                switch (true) {
                    case this.getAverage() >= 90: return 'A';
                    case this.getAverage() >= 80: return 'B';
                    case this.getAverage() >= 70: return 'C';
                    case this.getAverage() >= 60: return 'D';
                    default: return 'F';
                }
            }
        }
        var students = [
            new Student('james', 70, 71, 73),
            new Student('alice', 80, 82, 83),
            new Student('tomas', 91, 92, 94)
        ];
        var studentList = '';
        for (let i = 0; i < students.length; i++) {
            studentList += '<tr>';
            studentList += '<td>' + students[i].name + '</td>';
            studentList += '<td>' + students[i].kor + '</td>';
            studentList += '<td>' + students[i].eng + '</td>';
            studentList += '<td>' + students[i].mat + '</td>';
            studentList += '<td>' + students[i].getAverage() + '</td>';
            studentList += '<td>' + students[i].getGrade() + '</td>';
            studentList += '</tr>';
        }
        var studentInfo = document.getElementById('student_info');
        studentInfo.innerHTML = studentList;
    </script>

    <hr>

    <!-- 연습6. D-Day 만들기 -->
    <div id="box6"></div>
    <script>
        /*
            2022-11-17(올해 수능일)을 Dday로 설정해서 아래와 같이 표시하시오.
            1. 1일 이상 남았을 때 : D-DAY 30일 5시간 10분 15초
            2. 1일 미만 남았을 때 : D-DAY 23시간 10분 15초
            3. 지났을 때          : D-DAY 입니다.
        */
        // 1. 1초마다 반복 실행되는 setInterval() 함수 사용
        /*
        setInterval(function(){
            document.getElementById('box6').innerHTML = getDDay();
        }, 1000);
        */
        // 2. setTimeout() 함수를 1초마다 호출
        function dDay() {
            setTimeout(function(){
                document.getElementById('box6').innerHTML = getDDay();
                dDay();
            }, 1000);
        }
        dDay();  // dDay() 함수 실행

        function getDDay() {
            // 1. 현재 날짜와 시간 생성
            let today = new Date();
            // 2. 디데이 생성(2022-11-17)
            let dDay = new Date(2022, 10, 17);
            // 주의. new Date('2022-11-17');  2022-11-17 09:00:00 생성 (우리나라는 UTC +9시)
            // 3. 두 날짜의 차이
            let restTime = dDay - today;  // 차이가 밀리초(1/1000초)로 계산됨.
            restTime = parseInt(restTime / 1000);  // 초 단위로 변환됨. 밀리초는 버려짐.
            let second = restTime % 60;                 // 초 구하기
            let minute = parseInt(restTime / 60) % 60;  // 분 구하기
            let hour = parseInt(restTime / 3600) % 24;  // 시 구하기
            let day = parseInt(restTime / 3600 / 24);   // 일 구하기
            // 4. 결과 만들기
            let result = 'D-DAY&nbsp;';
            if (restTime > 0) {
                if (day > 0) {
                    result += day + '일&nbsp;';
                }
                result += hour + '시&nbsp;' + minute + '분&nbsp;' + second + '초';
            } else {  // restTime <= 0
                result += '입니다.';
            }
            // 5. 결과 반환하기
            return result;
        }
    </script>

    <hr>

    <!-- 연습7. 정답 보이기/숨기기 -->
    <div id="box7">
        <h1>프론트엔드 과목이 아닌 것은?</h1>
        <ol>
            <li>JavaScript</li>
            <li>Java</li>
            <li>CSS</li>
            <li>HTML</li>
        </ol>
        <input type="button" value="정답보기" id="btn_answer" data-state="hide">
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <span id="answer">2</span>
    </div>
    <style>
        #answer {
            display: none;
        }
    </style>
    <script>
        // 문제) 버튼을 클릭하면
        // 버튼상태 : '정답보기' <-> '정답숨기기' 변환
        // 정답     :  안보임    <->  보임        변환
        // data-state="hide"이면 안보임 상태이고, data-state="show"이면 보임 상태로 처리할 것
        var answer = document.getElementById('answer');
        var btnAnswer = document.getElementById('btn_answer');
        btnAnswer.onclick = function(ev){
            if (this.dataset.state == 'hide') {  // data-로 시작하는 data 속성은 dataset 속성에서 확인 가능함
                this.value = '정답숨기기';
                this.dataset.state = 'show';
                answer.style.display = 'inline';
            } else if (this.dataset.state == 'show') {
                this.value = '정답보기';
                this.dataset.state = 'hide';
                answer.style.display = 'none';
            }
        }
    </script>

    <hr>

    <!-- 연습8. form 태그 없이 네이버 검색 구현하기 -->
    <input type="text" id="query" placeholder="검색어를 입력해 주세요">
    <input type="button" value="검색" id="btn_naver_search">
    <script>
        var query = document.getElementById('query');
        var btnNaverSearch = document.getElementById('btn_naver_search');
        btnNaverSearch.onclick = function(ev){
            location.href = 'https://search.naver.com/search.naver?query=' + query.value;
        }
    </script>

    <hr>

    <!-- 연습9. 5초마다 배경이 변하는 화면보호기 -->
    <div id="box9">
        
    </div>
    <style>
        #box9 {
            width: 480px;
            height: 320px;
            background-size: 100% 100%;
            transition: background-image 1s ease;
        }
    </style>
    <script>
        // 문제) 배열의 이미지가 임의로 선택되도록 처리
        var images = ['animal1.jpg', 'animal2.jpg', 'animal3.jpg', 'animal4.jpg', 'animal5.jpg'];
        var box9 = document.getElementById('box9');
        box9.style.backgroundImage = 'url(../../images/' + images[0] + ')';  // 초기 이미지
        setInterval(function(){
            let i = Math.floor(Math.random() * images.length);
            box9.style.backgroundImage = 'url(../../images/' + images[i] + ')';
        }, 5000);
    </script>

    <hr>

    <!-- 연습10. 추첨 프로그램 -->
    <button id="btn_pick">추첨</button>
    <h1>남은 메뉴 : <span id="menu_list"></span></h1>
    <h1>선택 메뉴 : <span id="pick"></span></h1>
    <script>
        // 문제) 배열의 요소를 임의로 하나씩 선택해서 제거하기
        var menu = ['제육', '순두부', '국수', '피자', '순대국', '족발'];
        var btnPick = document.getElementById('btn_pick');
        var menuList = document.getElementById('menu_list');
        var pick = document.getElementById('pick');
        menuList.textContent = menu;
        btnPick.onclick = function(event) {
            let i = Math.floor(Math.random() * menu.length);
            pick.innerHTML += menu.splice(i, 1) + '&nbsp;';
            menuList.textContent = menu;
        }
    </script>

</body>
</html>